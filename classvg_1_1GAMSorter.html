<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>vg: vg::GAMSorter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">vg
   </div>
   <div id="projectbrief">tools for working with variation graphs</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacevg.html">vg</a></li><li class="navelem"><a class="el" href="classvg_1_1GAMSorter.html">GAMSorter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classvg_1_1GAMSorter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">vg::GAMSorter Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;gamsorter.hpp&gt;</code></p>
<div class="dynheader">
Inheritance diagram for vg::GAMSorter:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classvg_1_1GAMSorter.png" usemap="#vg::GAMSorter_map" alt=""/>
  <map id="vg::GAMSorter_map" name="vg::GAMSorter_map">
<area href="classvg_1_1Progressive.html" alt="vg::Progressive" shape="rect" coords="0,0,100,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a50ae1dad2d0a56e5900050e5b02ebbd3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GAMSorter.html#a50ae1dad2d0a56e5900050e5b02ebbd3">GAMSorter</a> (bool <a class="el" href="classvg_1_1Progressive.html#a6653625f496832c4cb8711185d5e04cb">show_progress</a>=false)</td></tr>
<tr class="memdesc:a50ae1dad2d0a56e5900050e5b02ebbd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a GAM sorter, showing sort progress on standard error if show_progress is true.  <a href="#a50ae1dad2d0a56e5900050e5b02ebbd3">More...</a><br/></td></tr>
<tr class="separator:a50ae1dad2d0a56e5900050e5b02ebbd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed20777e1ddaaa2233e59576c4c22424"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GAMSorter.html#aed20777e1ddaaa2233e59576c4c22424">stream_sort</a> (istream &amp;gam_in, ostream &amp;gam_out, <a class="el" href="classvg_1_1GAMIndex.html">GAMIndex</a> *index_to=nullptr)</td></tr>
<tr class="separator:aed20777e1ddaaa2233e59576c4c22424"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89bc0b8ea44ebe646ecf78201fa41b9a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GAMSorter.html#a89bc0b8ea44ebe646ecf78201fa41b9a">dumb_sort</a> (istream &amp;gam_in, ostream &amp;gam_out, <a class="el" href="classvg_1_1GAMIndex.html">GAMIndex</a> *index_to=nullptr)</td></tr>
<tr class="separator:a89bc0b8ea44ebe646ecf78201fa41b9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4742fac6f04aae4b5a6ddd6aafa243a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GAMSorter.html#a4742fac6f04aae4b5a6ddd6aafa243a4">benedict_sort</a> (istream &amp;gam_in, ostream &amp;gam_out, <a class="el" href="classvg_1_1GAMIndex.html">GAMIndex</a> *index_to=nullptr)</td></tr>
<tr class="separator:a4742fac6f04aae4b5a6ddd6aafa243a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19fbfa6c90b45e96fca384cbf40966ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GAMSorter.html#a19fbfa6c90b45e96fca384cbf40966ec">sort</a> (vector&lt; <a class="el" href="structvg_1_1Alignment.html">Alignment</a> &gt; &amp;alns) const </td></tr>
<tr class="memdesc:a19fbfa6c90b45e96fca384cbf40966ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sort a vector of alignments, in place.  <a href="#a19fbfa6c90b45e96fca384cbf40966ec">More...</a><br/></td></tr>
<tr class="separator:a19fbfa6c90b45e96fca384cbf40966ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0889188dbb98a5374688f817bc9f0911"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GAMSorter.html#a0889188dbb98a5374688f817bc9f0911">less_than</a> (const <a class="el" href="structvg_1_1Alignment.html">Alignment</a> &amp;a, const <a class="el" href="structvg_1_1Alignment.html">Alignment</a> &amp;b) const </td></tr>
<tr class="memdesc:a0889188dbb98a5374688f817bc9f0911"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if out of Alignments a and b, alignment a must come before alignment b, and false otherwise.  <a href="#a0889188dbb98a5374688f817bc9f0911">More...</a><br/></td></tr>
<tr class="separator:a0889188dbb98a5374688f817bc9f0911"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3c2027dca801ebb48bc1e36d07223f9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structvg_1_1Position.html">Position</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GAMSorter.html#aa3c2027dca801ebb48bc1e36d07223f9">get_min_position</a> (const <a class="el" href="structvg_1_1Alignment.html">Alignment</a> &amp;aln) const </td></tr>
<tr class="separator:aa3c2027dca801ebb48bc1e36d07223f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03932abf6ca8b56a1846d2d69a5bb09b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structvg_1_1Position.html">Position</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GAMSorter.html#a03932abf6ca8b56a1846d2d69a5bb09b">get_min_position</a> (const <a class="el" href="structvg_1_1Path.html">Path</a> &amp;path) const </td></tr>
<tr class="memdesc:a03932abf6ca8b56a1846d2d69a5bb09b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the minimum position visited by a <a class="el" href="structvg_1_1Path.html">Path</a>, as for an <a class="el" href="structvg_1_1Alignment.html">Alignment</a>.  <a href="#a03932abf6ca8b56a1846d2d69a5bb09b">More...</a><br/></td></tr>
<tr class="separator:a03932abf6ca8b56a1846d2d69a5bb09b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3e280a89ab932aa357c9adcb7bda946"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GAMSorter.html#af3e280a89ab932aa357c9adcb7bda946">equal_to</a> (const <a class="el" href="structvg_1_1Position.html">Position</a> &amp;a, const <a class="el" href="structvg_1_1Position.html">Position</a> &amp;b) const </td></tr>
<tr class="memdesc:af3e280a89ab932aa357c9adcb7bda946"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return True if the given <a class="el" href="structvg_1_1Position.html">Position</a> values are equal, and false otherwise.  <a href="#af3e280a89ab932aa357c9adcb7bda946">More...</a><br/></td></tr>
<tr class="separator:af3e280a89ab932aa357c9adcb7bda946"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a411dfc9161357f004594006aab844efe"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GAMSorter.html#a411dfc9161357f004594006aab844efe">less_than</a> (const <a class="el" href="structvg_1_1Position.html">Position</a> &amp;a, const <a class="el" href="structvg_1_1Position.html">Position</a> &amp;b) const </td></tr>
<tr class="separator:a411dfc9161357f004594006aab844efe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a113dc42f999c67748b86445709e22c8c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GAMSorter.html#a113dc42f999c67748b86445709e22c8c">less_than</a> (const <a class="el" href="namespacevg.html#a54512eefe4b0e14cb3b0057c23350240">pos_t</a> &amp;a, const <a class="el" href="namespacevg.html#a54512eefe4b0e14cb3b0057c23350240">pos_t</a> &amp;b) const </td></tr>
<tr class="memdesc:a113dc42f999c67748b86445709e22c8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if out of pos_t items a and b, a must come before b, and false otherwise.  <a href="#a113dc42f999c67748b86445709e22c8c">More...</a><br/></td></tr>
<tr class="separator:a113dc42f999c67748b86445709e22c8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31dd84b62801ae998aea1e4beec371d3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GAMSorter.html#a31dd84b62801ae998aea1e4beec371d3">greater_than</a> (const <a class="el" href="structvg_1_1Position.html">Position</a> &amp;a, const <a class="el" href="structvg_1_1Position.html">Position</a> &amp;b) const </td></tr>
<tr class="memdesc:a31dd84b62801ae998aea1e4beec371d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return True if position A is greater than position B in our sort, and false otherwise.  <a href="#a31dd84b62801ae998aea1e4beec371d3">More...</a><br/></td></tr>
<tr class="separator:a31dd84b62801ae998aea1e4beec371d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classvg_1_1Progressive"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classvg_1_1Progressive')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classvg_1_1Progressive.html">vg::Progressive</a></td></tr>
<tr class="memitem:a4eb5050eb36ed519cbfa398748ef183b inherit pub_methods_classvg_1_1Progressive"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1Progressive.html#a4eb5050eb36ed519cbfa398748ef183b">preload_progress</a> (const string &amp;message)</td></tr>
<tr class="separator:a4eb5050eb36ed519cbfa398748ef183b inherit pub_methods_classvg_1_1Progressive"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cce3f715516ed2bbb4ce3a312b01e02 inherit pub_methods_classvg_1_1Progressive"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1Progressive.html#a1cce3f715516ed2bbb4ce3a312b01e02">create_progress</a> (const string &amp;message, long count)</td></tr>
<tr class="separator:a1cce3f715516ed2bbb4ce3a312b01e02 inherit pub_methods_classvg_1_1Progressive"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75d4e92a36a277be5bc0cee5d01f5ca1 inherit pub_methods_classvg_1_1Progressive"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1Progressive.html#a75d4e92a36a277be5bc0cee5d01f5ca1">create_progress</a> (long count)</td></tr>
<tr class="separator:a75d4e92a36a277be5bc0cee5d01f5ca1 inherit pub_methods_classvg_1_1Progressive"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d64e6aa69bc094c163f4827602a302c inherit pub_methods_classvg_1_1Progressive"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1Progressive.html#a0d64e6aa69bc094c163f4827602a302c">update_progress</a> (long i)</td></tr>
<tr class="separator:a0d64e6aa69bc094c163f4827602a302c inherit pub_methods_classvg_1_1Progressive"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1de11917caf25974a02e2f5c3946280 inherit pub_methods_classvg_1_1Progressive"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1Progressive.html#ab1de11917caf25974a02e2f5c3946280">increment_progress</a> ()</td></tr>
<tr class="separator:ab1de11917caf25974a02e2f5c3946280 inherit pub_methods_classvg_1_1Progressive"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaab8c6ae92870077bb59f86a15c8d18f inherit pub_methods_classvg_1_1Progressive"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1Progressive.html#aaab8c6ae92870077bb59f86a15c8d18f">destroy_progress</a> (void)</td></tr>
<tr class="separator:aaab8c6ae92870077bb59f86a15c8d18f inherit pub_methods_classvg_1_1Progressive"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a928bfc6e535c9c15610406099131ccde"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GAMSorter.html#a928bfc6e535c9c15610406099131ccde">cursor_t</a> = <a class="el" href="classvg_1_1stream_1_1ProtobufIterator.html">stream::ProtobufIterator</a>&lt; <a class="el" href="structvg_1_1Alignment.html">Alignment</a> &gt;</td></tr>
<tr class="separator:a928bfc6e535c9c15610406099131ccde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8977b80db3388009df7c4865f5663ea7"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GAMSorter.html#a8977b80db3388009df7c4865f5663ea7">emitter_t</a> = <a class="el" href="classvg_1_1stream_1_1ProtobufEmitter.html">stream::ProtobufEmitter</a>&lt; <a class="el" href="structvg_1_1Alignment.html">Alignment</a> &gt;</td></tr>
<tr class="separator:a8977b80db3388009df7c4865f5663ea7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a7ffb41595b876a4184bca28764daacda"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GAMSorter.html#a7ffb41595b876a4184bca28764daacda">open_all</a> (const vector&lt; string &gt; &amp;filenames, list&lt; ifstream &gt; &amp;streams, list&lt; <a class="el" href="classvg_1_1GAMSorter.html#a928bfc6e535c9c15610406099131ccde">cursor_t</a> &gt; &amp;cursors)</td></tr>
<tr class="separator:a7ffb41595b876a4184bca28764daacda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c605b5f30084ede7a9690a120833712"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GAMSorter.html#a8c605b5f30084ede7a9690a120833712">streaming_merge</a> (list&lt; <a class="el" href="classvg_1_1GAMSorter.html#a928bfc6e535c9c15610406099131ccde">cursor_t</a> &gt; &amp;cursors, <a class="el" href="classvg_1_1GAMSorter.html#a8977b80db3388009df7c4865f5663ea7">emitter_t</a> &amp;emitter, size_t expected_reads=0)</td></tr>
<tr class="separator:a8c605b5f30084ede7a9690a120833712"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f53649e5224470e44359c903ef7146c"><td class="memItemLeft" align="right" valign="top">vector&lt; string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GAMSorter.html#a2f53649e5224470e44359c903ef7146c">streaming_merge</a> (const vector&lt; string &gt; &amp;temp_names_in, unordered_map&lt; string, size_t &gt; *reads_per_file=nullptr)</td></tr>
<tr class="separator:a2f53649e5224470e44359c903ef7146c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aef544f09744f875ba417e3d2d9bf1347"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GAMSorter.html#aef544f09744f875ba417e3d2d9bf1347">max_buf_size</a> = (512 * 1024 * 1024)</td></tr>
<tr class="separator:aef544f09744f875ba417e3d2d9bf1347"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3247e22fbeb3aaea28c105f34c59374c"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1GAMSorter.html#a3247e22fbeb3aaea28c105f34c59374c">max_fan_in</a></td></tr>
<tr class="separator:a3247e22fbeb3aaea28c105f34c59374c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_attribs_classvg_1_1Progressive"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classvg_1_1Progressive')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classvg_1_1Progressive.html">vg::Progressive</a></td></tr>
<tr class="memitem:a6653625f496832c4cb8711185d5e04cb inherit pub_attribs_classvg_1_1Progressive"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvg_1_1Progressive.html#a6653625f496832c4cb8711185d5e04cb">show_progress</a> = false</td></tr>
<tr class="separator:a6653625f496832c4cb8711185d5e04cb inherit pub_attribs_classvg_1_1Progressive"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides the ability to sort a GAM, either "dumbly" (in memory), or "streaming" into temporary files. Paired alignments are not necessarily going to end up next to each other, so if sorting by position make sure to set the position cross-references first if you want to be able to find them. </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a928bfc6e535c9c15610406099131ccde"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classvg_1_1GAMSorter.html#a928bfc6e535c9c15610406099131ccde">vg::GAMSorter::cursor_t</a> =  <a class="el" href="classvg_1_1stream_1_1ProtobufIterator.html">stream::ProtobufIterator</a>&lt;<a class="el" href="structvg_1_1Alignment.html">Alignment</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8977b80db3388009df7c4865f5663ea7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classvg_1_1GAMSorter.html#a8977b80db3388009df7c4865f5663ea7">vg::GAMSorter::emitter_t</a> =  <a class="el" href="classvg_1_1stream_1_1ProtobufEmitter.html">stream::ProtobufEmitter</a>&lt;<a class="el" href="structvg_1_1Alignment.html">Alignment</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a50ae1dad2d0a56e5900050e5b02ebbd3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GAMSorter::GAMSorter </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>show_progress</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a GAM sorter, showing sort progress on standard error if show_progress is true. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a4742fac6f04aae4b5a6ddd6aafa243a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GAMSorter::benedict_sort </td>
          <td>(</td>
          <td class="paramtype">istream &amp;&#160;</td>
          <td class="paramname"><em>gam_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ostream &amp;&#160;</td>
          <td class="paramname"><em>gam_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classvg_1_1GAMIndex.html">GAMIndex</a> *&#160;</td>
          <td class="paramname"><em>index_to</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sort a seekable input stream by doing one pass to load all the positions, sorting all the positions in memory, and doing another pass of jumping around to re-order all the reads. Optionally index the sorted GAM file into the given <a class="el" href="classvg_1_1GAMIndex.html">GAMIndex</a>. </p>

</div>
</div>
<a class="anchor" id="a89bc0b8ea44ebe646ecf78201fa41b9a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GAMSorter::dumb_sort </td>
          <td>(</td>
          <td class="paramtype">istream &amp;&#160;</td>
          <td class="paramname"><em>gam_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ostream &amp;&#160;</td>
          <td class="paramname"><em>gam_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classvg_1_1GAMIndex.html">GAMIndex</a> *&#160;</td>
          <td class="paramname"><em>index_to</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sort a stream of GAM-format data, loading it all into memory and doing a single giant sort operation. Optionally index the sorted GAM file into the given <a class="el" href="classvg_1_1GAMIndex.html">GAMIndex</a>. </p>

</div>
</div>
<a class="anchor" id="af3e280a89ab932aa357c9adcb7bda946"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GAMSorter::equal_to </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structvg_1_1Position.html">Position</a> &amp;&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structvg_1_1Position.html">Position</a> &amp;&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return True if the given <a class="el" href="structvg_1_1Position.html">Position</a> values are equal, and false otherwise. </p>

</div>
</div>
<a class="anchor" id="aa3c2027dca801ebb48bc1e36d07223f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structvg_1_1Position.html">Position</a> GAMSorter::get_min_position </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structvg_1_1Alignment.html">Alignment</a> &amp;&#160;</td>
          <td class="paramname"><em>aln</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determine the minumum <a class="el" href="structvg_1_1Position.html">Position</a> visited by an <a class="el" href="structvg_1_1Alignment.html">Alignment</a>. The minumum <a class="el" href="structvg_1_1Position.html">Position</a> is the lowest node ID visited by the alignment, with the lowest offset visited on that node ID as the offset, and the orientation set to false if the forward strand is visited, and true if only the reverse strand is visited. </p>

</div>
</div>
<a class="anchor" id="a03932abf6ca8b56a1846d2d69a5bb09b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structvg_1_1Position.html">Position</a> GAMSorter::get_min_position </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structvg_1_1Path.html">Path</a> &amp;&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the minimum position visited by a <a class="el" href="structvg_1_1Path.html">Path</a>, as for an <a class="el" href="structvg_1_1Alignment.html">Alignment</a>. </p>

</div>
</div>
<a class="anchor" id="a31dd84b62801ae998aea1e4beec371d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GAMSorter::greater_than </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structvg_1_1Position.html">Position</a> &amp;&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structvg_1_1Position.html">Position</a> &amp;&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return True if position A is greater than position B in our sort, and false otherwise. </p>

</div>
</div>
<a class="anchor" id="a0889188dbb98a5374688f817bc9f0911"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GAMSorter::less_than </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structvg_1_1Alignment.html">Alignment</a> &amp;&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structvg_1_1Alignment.html">Alignment</a> &amp;&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return true if out of Alignments a and b, alignment a must come before alignment b, and false otherwise. </p>

</div>
</div>
<a class="anchor" id="a411dfc9161357f004594006aab844efe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GAMSorter::less_than </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structvg_1_1Position.html">Position</a> &amp;&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structvg_1_1Position.html">Position</a> &amp;&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return True if position A is less than position B in our sort, and false otherwise. <a class="el" href="structvg_1_1Position.html">Position</a> order is defined first by node ID, then by strand (forward first), and then by offset within the strand. We can't sort by actual base on the forward strand, because we need to be able to sort without knowing the graph's node lengths. </p>

</div>
</div>
<a class="anchor" id="a113dc42f999c67748b86445709e22c8c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GAMSorter::less_than </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacevg.html#a54512eefe4b0e14cb3b0057c23350240">pos_t</a> &amp;&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacevg.html#a54512eefe4b0e14cb3b0057c23350240">pos_t</a> &amp;&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return true if out of pos_t items a and b, a must come before b, and false otherwise. </p>

</div>
</div>
<a class="anchor" id="a7ffb41595b876a4184bca28764daacda"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GAMSorter::open_all </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; string &gt; &amp;&#160;</td>
          <td class="paramname"><em>filenames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">list&lt; ifstream &gt; &amp;&#160;</td>
          <td class="paramname"><em>streams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">list&lt; <a class="el" href="classvg_1_1GAMSorter.html#a928bfc6e535c9c15610406099131ccde">cursor_t</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>cursors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Open all the given input files, keeping the streams and cursors in the given lists. We use lists because none of these should be allowed to move after creation. </p>

</div>
</div>
<a class="anchor" id="a19fbfa6c90b45e96fca384cbf40966ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GAMSorter::sort </td>
          <td>(</td>
          <td class="paramtype">vector&lt; <a class="el" href="structvg_1_1Alignment.html">Alignment</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>alns</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sort a vector of alignments, in place. </p>

</div>
</div>
<a class="anchor" id="aed20777e1ddaaa2233e59576c4c22424"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GAMSorter::stream_sort </td>
          <td>(</td>
          <td class="paramtype">istream &amp;&#160;</td>
          <td class="paramname"><em>gam_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ostream &amp;&#160;</td>
          <td class="paramname"><em>gam_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classvg_1_1GAMIndex.html">GAMIndex</a> *&#160;</td>
          <td class="paramname"><em>index_to</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sort a stream of GAM-format data, using temporary files, limiting the number of simultaneously open input files and the size of in-memory data. Optionally index the sorted GAM file into the given <a class="el" href="classvg_1_1GAMIndex.html">GAMIndex</a>. </p>

</div>
</div>
<a class="anchor" id="a8c605b5f30084ede7a9690a120833712"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GAMSorter::streaming_merge </td>
          <td>(</td>
          <td class="paramtype">list&lt; <a class="el" href="classvg_1_1GAMSorter.html#a928bfc6e535c9c15610406099131ccde">cursor_t</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>cursors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classvg_1_1GAMSorter.html#a8977b80db3388009df7c4865f5663ea7">emitter_t</a> &amp;&#160;</td>
          <td class="paramname"><em>emitter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>expected_reads</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Merge all the reads from the given list of cursors into the given emitter. The total expected number of reads can be passed for progress bar purposes. </p>

</div>
</div>
<a class="anchor" id="a2f53649e5224470e44359c903ef7146c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; string &gt; GAMSorter::streaming_merge </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; string &gt; &amp;&#160;</td>
          <td class="paramname"><em>temp_names_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unordered_map&lt; string, size_t &gt; *&#160;</td>
          <td class="paramname"><em>reads_per_file</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Merge all the given temp input files into one or more temp output files, opening no more than max_fan_in input files at a time. The input files, which must be from <a class="el" href="namespacevg_1_1temp__file.html#a84ef71efd10b4010f206ae8510545f40" title="Create a temporary file starting with the given base name. ">temp_file::create()</a>, will be deleted.</p>
<p>If reads_per_file is specified, it will be used to show progress bars, and will be updated for newly-created files. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="aef544f09744f875ba417e3d2d9bf1347"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t vg::GAMSorter::max_buf_size = (512 * 1024 * 1024)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>What's the maximum size of reads in serialized, uncompressed bytes to load into memory for a single temp file chunk, during the streaming sort? For reference, a whole-genome GAM file is about 500 GB of uncompressed data </p>

</div>
</div>
<a class="anchor" id="a3247e22fbeb3aaea28c105f34c59374c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t vg::GAMSorter::max_fan_in</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>What's the max fan-in when combining temp files, during the streaming sort? This will be computed based on the max file descriptor limit from the OS. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="gamsorter_8hpp.html">gamsorter.hpp</a></li>
<li>src/<a class="el" href="gamsorter_8cpp.html">gamsorter.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Sep 27 2018 17:12:35 for vg by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
